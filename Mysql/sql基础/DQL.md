# DQL

数据查询语言，用来查询数据库中表的记录

## 基础查询

```sql
//查询出一些字段的值
SELECT 字段，。。 FROM 表名;
//查询所有的值
SELECT * FROM 表名;
//给字段设置别名
SELECT 字段 as 别名 FROM 表名;
//取出重复的数据
SELECT DISTINCT 字段列表 FROM 表名;
```

## 条件查询

这里使用到的关键词就是where

where后面可以添加逻辑运算符和比较符

这里我就记录一些自己不常用的一些使用

```sql
//这里表达的就是只要满足任意一个值，那么就会被查询出来。
SELECT * FROM 表名 WHERE 字段 IN (值，值)
//模糊查询匹配like关键字
//这里就是表示的在emo这个表里面满足名字是两个字的数据，这里_.一个表示的是一个字
SELECT * FROM emp WHERE name like '_ _';
//这里查询的是，结尾为x的数据，这里%表示的不管是多少个字符。
SELECT * FROM emp WHERE idcard like '%X';

```

## 聚合函数

聚合函数是将一列数据作为整体，进程纵向的计算包含的有：

1. count 统计数量
2. max 最大
3. min 最小
4. avg 平均值
5. num 求和

需要注意的就是所有的null都对聚合函数不起作用。

使用例子：

```sql
//统计总数，这里*号可以转换成具体的字段，然后统计的是具体字段的总数。
SELECT COUNT（*） FROM emp;

```

## 分组查询

语法

```sql
SELECT 字段列表 FROM 表名 [where 条件] GROUP BY 分组字段 [HAVING 分组后的条件]
```

这里需要注意的事情：

执行的顺序：where > 聚合函数 > having

## 排序查询

我们对查询出来的数据进行排序，排序的方式只有两种，一个是升序，一个是降序

分别对应的是：

1. 升序 asc
2. 降序desc

语法：

```sql
select * from 表名 order by 字段  排序方式，字段 排序方式;
```

这里需要注意的是，排序查询是支持多字段排序的，多字段排序首先排序的是第一个字段，然后当第一个字段相同的时候根据第二个字段进行排序。

## 分页查询

语法：

```sql
select * from 表名 limit 起始索引，数据条数;
```

这里有三点是需要注意的：

1. 起始索引从0开始，起始索引 = （页面-1）*页面的数据量
2. 分页查询是数据库的方言，不同数据库有着不同的实现
3. 如果查询的是第一页的数据起始索引可以省略

## DQL的执行顺序

1. FROM
2. WHERE
3. GROUP BY
4. SELECT
5. ORDER BY
6. LIMIT

执行的顺序对后面高级sql语法是很有帮助的。

